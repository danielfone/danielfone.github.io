<!DOCTYPE html>
<html lang="en">
  <!-- Handcrafted HTML for your reading pleasure -->

  <head>
    <meta charset="utf-8">
    <title>Generating a Class Hierarchy in Ruby - Daniel Fone</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/atom.xml" rel="alternate" title="Daniel Fone" type="application/atom+xml">
    <link href="/favicon.png" rel="icon">
    <!-- TODO: ditch GA one day for less intrusive analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41009873-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-41009873-1');
</script>

    <link href="/stylesheets/application.css" rel="stylesheet" />
    <link href="/stylesheets/highlight.css" rel="stylesheet" />
  </head>

  <body>
      <header>
    <svg class="logo" version="1.0" xmlns="http://www.w3.org/2000/svg" width="5em" height="5em" viewBox="0 0 100 100">
      <circle cx="50%" cy="50%" r="50" fill="#67AAF7" />
    </svg>
    <h1>Daniel Fone</h1>
    <p class="description">Ruby/Rails Engineer</p>
  </header>

  <nav>
    <div class="links">
      <a href="/" class="[]">About Me</a> &middot;
      <a href="/blog/archives/" class="[]">Articles</a> &middot;
      <a href="/hire/" class="[]">Contact</a>
    </div>
  </nav>

  <main>  <article>
    <h2>
      Generating a Class Hierarchy in Ruby
    </h2>
    <p class="article-metadata">
      May 2013
      &middot;
      less than 1 minute to read
    </p>


    <p>Here’s a way to see what classes descend from a particular superclass in Ruby. You can use it to list all ActiveRecord models defined in your application, every implementation on a particular base class, or whatever else might be of interest.</p>

<div class="highlight"><pre class="highlight plaintext"><code>&gt; puts ClassHierarchy.new ActionController::Base
ActionController::Base
  ApplicationController
    UsersController
    UserSessionsController
    OrdersController
    ...
</code></pre></div>
<p>If you’re using Rails, bear in mind that most of your classes won’t be loaded by default in the development environment. You can get around this by manually requiring the files you’re interested in:</p>

<div class="highlight"><pre class="highlight plaintext"><code>Dir.glob File.join(Rails.root, 'app/models/**/*.rb'), &amp;method(:require)
</code></pre></div>
<p>To use in your code, simply put class_hierarchy.rb somewhere that makes sense (perhaps /lib) and <code>require 'class_hierarchy'</code>.</p>

<script src="https://gist.github.com/danielfone/5654633.js"></script>


  </article>

  <aside id="about-me">
    <h3>About Me</h3>
    <p>
      <img src="//www.gravatar.com/avatar/5efc2a040a61cb22107bcfcecd58454c.jpg?s=140" width="70" class="avatar" alt="" />
      I'm a Ruby/Rails engineer, based in Christchurch, New&nbsp;Zealand.
      I'm available for freelancing, consulting and remote contracting.
    </p>
    <p>
      You can follow me on <a href="https://twitter.com/danielfone">Twitter</a>
      or <a href="https://github.com/danielfone">GitHub</a>
      and <a href="/hire">hire me</a>.
    </p>
  </aside>

  <aside id='featured-posts'>
    <h3>Other Posts</h3>
      <h4>
        <a href="/blog/2020/09/09/timing-safe-bcrypt-authentication-in-postgresql/">Timing-Safe bcrypt Authentication in PostgreSQL</a>
      </h4>
      <p>To avoid disclosing <abbr title="Personally Identifying Information">PII</abbr> and to prevent user enumeration during authentication, ensure you always perform a hash comparison, even if no user record is found.</p>
      <h4>
        <a href="/blog/2014/12/10/handling-token-generation-collisions-in-activerecord/">Handling Token Generation Collisions In ActiveRecord</a>
      </h4>
      <p>Use <code>rescue ActiveRecord::RecordNotUnique</code> with <code>retry</code> to handle collisions when applicable.</p>
      <h4>
        <a href="/blog/2013/05/24/persist-invalid-records-with-activerecord/">Persist Invalid Records with ActiveRecord</a>
      </h4>
      <p>We can override ActiveRecord#save to keep invalid records in the database along with their validation errors.</p>
    <p>
      <small><a href="/blog/archives/">More posts</a></small>
    </p>
  </aside>

  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'danielfone';
    var disqus_identifier = 'http://daniel.fone.net.nz/blog/2013/05/27/generating-a-class-hierarchy-in-ruby/';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</main>

  <footer>
    <p>
      Written 2013&ndash;2020 by Daniel Fone
      &middot;
      Powered by
      <a href="http://middlemanapp.com/">Middleman</a>
      and
      <a href="http://pages.github.com/">GitHub Pages</a>
    </p>
    <p>
      <a href="#">Back to top</a>
    </p>
  </footer>

  </body>

</html>
